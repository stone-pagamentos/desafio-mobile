apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'

android {
    def config = rootProject.ext.androidConfig
    compileSdkVersion config.compileSdkVersion
    buildToolsVersion config.buildToolsVersion
    defaultConfig {
        applicationId config.applicationId
        minSdkVersion config.minSdkVersion
        targetSdkVersion config.targetSdkVersion
        versionCode config.versionCode
        versionName config.versionName
        testInstrumentationRunner config.testInstrumentationRunner

        multiDexEnabled config.multidexEnabled
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
    configurations.all {
        resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'
    }
    packagingOptions {
        exclude 'META-INF/rxjava.properties'
    }
}

dependencies {
    def deps = rootProject.ext.deps

    compile project(':presentation')
    compile project(':data')

    compile deps.supportAppCompat
    compile deps.supportConstraintLayout
    compile deps.supportDesign
    compile deps.supportRecyclerView
    compile deps.supportCardView
    compile deps.multidex
    compile deps.conductor
    compile deps.mosbyConductor
    compile deps.dagger2
    compile deps.rxAndroid
    compile deps.rxBinding
    compile deps.rxBindingSupport
    compile deps.epoxy
    compile deps.picasso
    compile deps.materialValues
    compile deps.actionItemBadge
    compile deps.stepIndicator

    kapt deps.dagger2Compiler

    testCompile deps.junit

    androidTestCompile(deps.espressoCore, {
        exclude group: 'com.android.support', module: 'support-annotations'
    })
}

kapt {
    generateStubs = true
}
